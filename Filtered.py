import threading
import json
import requests
import time
from requests.exceptions import ConnectTimeout, ConnectionError
from datetime import datetime
from bs4 import BeautifulSoup
import os
import csv
import random
import string
import sys
import re
from datetime import datetime
csv_header = [['NAME', 'ADDRESS', 'PHONE NUMBER', 'AGE', 'DATE']]
output_directory = '/home/ubuntu/laptop/output'


class myThread(threading.Thread):
    def __init__(self, threadID, phone_list, proxy):
        threading.Thread.__init__(self)
        self.threadID = threadID
        self.phone_list = phone_list
        self.myproxy = proxy

    def run(self):
        print("Starting to working on {} thread ".format(self.threadID))
        return rotate(self.phone_list, self.myproxy)


def write_direct_csv(lines, filename):
    global output_directory
    with open(os.path.join(output_directory, filename), 'a', encoding="utf-8", newline='') as csv_file:
        writer = csv.writer(csv_file, delimiter=',')
        writer.writerows(lines)
    csv_file.close()


def write_csv(lines, filename):
    global output_directory
    if not os.path.isdir(output_directory):
        os.mkdir(output_directory)
    if not os.path.isfile(os.path.join(output_directory, filename)):
        write_direct_csv(lines=csv_header, filename=filename)
    write_direct_csv(lines=lines, filename=filename)


def write_phones(lines, file_name):
    global output_directory
    if not os.path.isdir(output_directory):
        os.mkdir(output_directory)
    with open(os.path.join(output_directory, file_name), 'a', encoding="utf-8", newline='') as csv_file:
        writer = csv.writer(csv_file, delimiter=',')
        writer.writerows(lines)
    csv_file.close()


def read_phones():
    global output_directory
    if not os.path.isdir(output_directory):
        os.mkdir(output_directory)
    if not os.path.isfile(os.path.join(output_directory, pass_file)):
        return []
    file = open(os.path.join(output_directory, pass_file), encoding="utf-8")
    phones = file.readlines()
    file.close()
    return phones


def rotate(phone_list, myproxy):
    proxy = {
        'http': 'http://jfisch01:m4BMkZgP@{}'.format(myproxy),
        'https': 'https://jfisch01:m4BMkZgP@{}'.format(myproxy)
    }
    if not phone_list:
        sys.exit()
    for phone in phone_list:
        if phone in pass_phones:
            print('!')
            continue
        flag = True
        while flag:
            that_res = thread_run(phone, proxy)
            if that_res.status_code == 404:
                write_phones(lines=[[phone.strip()]], file_name=pass_file)
                flag = False
            if that_res is not None and that_res.status_code == 200:
                write_phones(lines=[[phone.strip()]], file_name=pass_file)
                try:
                    soup = BeautifulSoup(that_res.text, 'html5lib')
                    table_soup = soup.select('.people-list .card-block')
                    if table_soup:
                        owner_soup = table_soup[0].find(attrs={'class': 'card-title'})
                        if owner_soup:
                            name = owner_soup.find(attrs={'class': 'larger'}).text.strip()
                            age_soup = table_soup[0].find('h3', text=re.compile('Age:'))
                            if age_soup:
                                age = age_soup.next_element.next_element.strip()
                            else:
                                age = ''
                            address_soup = table_soup[0].find('h3', text=re.compile('Current Home Address:'))
                            if address_soup:
                                address = address_soup.find_next('a').text.replace('\n', ' ').strip()
                            else:
                                address = ''
                            line = [name, address, phone.strip(), age, date]
                            print('ok')
                            write_csv(lines=[line], filename=fileName)
                        else:
                            print('~')
                            write_phones(lines=[[phone.strip()]], file_name=Not_Found)
                        flag = False
                except Exception as e:
                    print(e)
                    write_phones(lines=[[phone.strip()]], file_name=failed_file)


def thread_run(number, proxy):
    try:
        req_number = '{}-{}-{}'.format(number[1:4], number[4:7], number[7:11])
        url = 'https://www.fastpeoplesearch.com/{}'.format(req_number)
        header = {
            'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36',
        }
        s = requests.Session()
        time.sleep(10)
        res = s.get(url=url, headers=header, proxies=proxy, timeout=10)
        print(res.status_code)
        if res.status_code == 429:
            sys.exit()
        if res.status_code != 200 and res.status_code != 404:
            time.sleep(5)
            return thread_run(number=number, proxy=proxy)
        return res
    except ConnectionError:
        time.sleep(2)
        return thread_run(number=number, proxy=proxy)
    except Exception as e:
        print('Error: ', e)
        time.sleep(3)
        return thread_run(number=number, proxy=proxy)


def source_txt(path):
    lines = []
    file = open(file=path, encoding='utf-8')
    for line in file.readlines():
        lines.append(line)
    file.close()
    number_list = []
    i = len(lines) // 252 + 1
    for j in range(252):
        number_list.append(lines[j * i:(j + 1) * i])
    return number_list


def get_proxy(file):
    f = open(file, 'r')
    rows = f.readlines()
    f.close()
    records = []
    for r in rows:
        records.append(r.strip() + ':29842')
    return records


def main():
    threads = []

    # Create new threads
    thread1 = myThread(1, thread_number_list[0], proxy_list[0])
    thread2 = myThread(2, thread_number_list[1], proxy_list[1])
    thread3 = myThread(3, thread_number_list[2], proxy_list[2])
    thread4 = myThread(4, thread_number_list[3], proxy_list[3])
    thread5 = myThread(5, thread_number_list[4], proxy_list[4])
    thread6 = myThread(6, thread_number_list[5], proxy_list[5])
    thread7 = myThread(7, thread_number_list[6], proxy_list[6])
    thread8 = myThread(8, thread_number_list[7], proxy_list[7])
    thread9 = myThread(9, thread_number_list[8], proxy_list[8])
    thread10 = myThread(10, thread_number_list[9], proxy_list[9])
    thread11 = myThread(11, thread_number_list[10], proxy_list[10])
    thread12 = myThread(12, thread_number_list[11], proxy_list[11])
    thread13 = myThread(13, thread_number_list[12], proxy_list[12])
    thread14 = myThread(14, thread_number_list[13], proxy_list[13])
    thread15 = myThread(15, thread_number_list[14], proxy_list[14])
    thread16 = myThread(16, thread_number_list[15], proxy_list[15])
    thread17 = myThread(17, thread_number_list[16], proxy_list[16])
    thread18 = myThread(18, thread_number_list[17], proxy_list[17])
    thread19 = myThread(19, thread_number_list[18], proxy_list[18])
    thread20 = myThread(20, thread_number_list[19], proxy_list[19])
    thread21 = myThread(21, thread_number_list[20], proxy_list[20])
    thread22 = myThread(22, thread_number_list[21], proxy_list[21])
    thread23 = myThread(23, thread_number_list[22], proxy_list[22])
    thread24 = myThread(24, thread_number_list[23], proxy_list[23])
    thread25 = myThread(25, thread_number_list[24], proxy_list[24])
    thread26 = myThread(26, thread_number_list[25], proxy_list[25])
    thread27 = myThread(27, thread_number_list[26], proxy_list[26])
    thread28 = myThread(28, thread_number_list[27], proxy_list[27])
    thread29 = myThread(29, thread_number_list[28], proxy_list[28])
    thread30 = myThread(30, thread_number_list[29], proxy_list[29])
    thread31 = myThread(31, thread_number_list[30], proxy_list[30])
    thread32 = myThread(32, thread_number_list[31], proxy_list[31])
    thread33 = myThread(33, thread_number_list[32], proxy_list[32])
    thread34 = myThread(34, thread_number_list[33], proxy_list[33])
    thread35 = myThread(35, thread_number_list[34], proxy_list[34])
    thread36 = myThread(36, thread_number_list[35], proxy_list[35])
    thread37 = myThread(37, thread_number_list[36], proxy_list[36])
    thread38 = myThread(38, thread_number_list[37], proxy_list[37])
    thread39 = myThread(39, thread_number_list[38], proxy_list[38])
    thread40 = myThread(40, thread_number_list[39], proxy_list[39])
    thread41 = myThread(41, thread_number_list[40], proxy_list[40])
    thread42 = myThread(42, thread_number_list[41], proxy_list[41])
    thread43 = myThread(43, thread_number_list[42], proxy_list[42])
    thread44 = myThread(44, thread_number_list[43], proxy_list[43])
    thread45 = myThread(45, thread_number_list[44], proxy_list[44])
    thread46 = myThread(46, thread_number_list[45], proxy_list[45])
    thread47 = myThread(47, thread_number_list[46], proxy_list[46])
    thread48 = myThread(48, thread_number_list[47], proxy_list[47])
    thread49 = myThread(49, thread_number_list[48], proxy_list[48])
    thread50 = myThread(50, thread_number_list[49], proxy_list[49])
    thread51 = myThread(51, thread_number_list[50], proxy_list[50])
    thread52 = myThread(52, thread_number_list[51], proxy_list[51])
    thread53 = myThread(53, thread_number_list[52], proxy_list[52])
    thread54 = myThread(54, thread_number_list[53], proxy_list[53])
    thread55 = myThread(55, thread_number_list[54], proxy_list[54])
    thread56 = myThread(56, thread_number_list[55], proxy_list[55])
    thread57 = myThread(57, thread_number_list[56], proxy_list[56])
    thread58 = myThread(58, thread_number_list[57], proxy_list[57])
    thread59 = myThread(59, thread_number_list[58], proxy_list[58])
    thread60 = myThread(60, thread_number_list[59], proxy_list[59])
    thread61 = myThread(61, thread_number_list[60], proxy_list[60])
    thread62 = myThread(62, thread_number_list[61], proxy_list[61])
    thread63 = myThread(63, thread_number_list[62], proxy_list[62])
    thread64 = myThread(64, thread_number_list[63], proxy_list[63])
    thread65 = myThread(65, thread_number_list[64], proxy_list[64])
    thread66 = myThread(66, thread_number_list[65], proxy_list[65])
    thread67 = myThread(67, thread_number_list[66], proxy_list[66])
    thread68 = myThread(68, thread_number_list[67], proxy_list[67])
    thread69 = myThread(69, thread_number_list[68], proxy_list[68])
    thread70 = myThread(70, thread_number_list[69], proxy_list[69])
    thread71 = myThread(71, thread_number_list[70], proxy_list[70])
    thread72 = myThread(72, thread_number_list[71], proxy_list[71])
    thread73 = myThread(73, thread_number_list[72], proxy_list[72])
    thread74 = myThread(74, thread_number_list[73], proxy_list[73])
    thread75 = myThread(75, thread_number_list[74], proxy_list[74])
    thread76 = myThread(76, thread_number_list[75], proxy_list[75])
    thread77 = myThread(77, thread_number_list[76], proxy_list[76])
    thread78 = myThread(78, thread_number_list[77], proxy_list[77])
    thread79 = myThread(79, thread_number_list[78], proxy_list[78])
    thread80 = myThread(80, thread_number_list[79], proxy_list[79])
    thread81 = myThread(81, thread_number_list[80], proxy_list[80])
    thread82 = myThread(82, thread_number_list[81], proxy_list[81])
    thread83 = myThread(83, thread_number_list[82], proxy_list[82])
    thread84 = myThread(84, thread_number_list[83], proxy_list[83])
    thread85 = myThread(85, thread_number_list[84], proxy_list[84])
    thread86 = myThread(86, thread_number_list[85], proxy_list[85])
    thread87 = myThread(87, thread_number_list[86], proxy_list[86])
    thread88 = myThread(88, thread_number_list[87], proxy_list[87])
    thread89 = myThread(89, thread_number_list[88], proxy_list[88])
    thread90 = myThread(90, thread_number_list[89], proxy_list[89])
    thread91 = myThread(91, thread_number_list[90], proxy_list[90])
    thread92 = myThread(92, thread_number_list[91], proxy_list[91])
    thread93 = myThread(93, thread_number_list[92], proxy_list[92])
    thread94 = myThread(94, thread_number_list[93], proxy_list[93])
    thread95 = myThread(95, thread_number_list[94], proxy_list[94])
    thread96 = myThread(96, thread_number_list[95], proxy_list[95])
    thread97 = myThread(97, thread_number_list[96], proxy_list[96])
    thread98 = myThread(98, thread_number_list[97], proxy_list[97])
    thread99 = myThread(99, thread_number_list[98], proxy_list[98])
    thread100 = myThread(100, thread_number_list[99], proxy_list[99])
    thread101 = myThread(101, thread_number_list[100], proxy_list[100])
    thread102 = myThread(102, thread_number_list[101], proxy_list[101])
    thread103 = myThread(103, thread_number_list[102], proxy_list[102])
    thread104 = myThread(104, thread_number_list[103], proxy_list[103])
    thread105 = myThread(105, thread_number_list[104], proxy_list[104])
    thread106 = myThread(106, thread_number_list[105], proxy_list[105])
    thread107 = myThread(107, thread_number_list[106], proxy_list[106])
    thread108 = myThread(108, thread_number_list[107], proxy_list[107])
    thread109 = myThread(109, thread_number_list[108], proxy_list[108])
    thread110 = myThread(110, thread_number_list[109], proxy_list[109])
    thread111 = myThread(111, thread_number_list[110], proxy_list[110])
    thread112 = myThread(112, thread_number_list[111], proxy_list[111])
    thread113 = myThread(113, thread_number_list[112], proxy_list[112])
    thread114 = myThread(114, thread_number_list[113], proxy_list[113])
    thread115 = myThread(115, thread_number_list[114], proxy_list[114])
    thread116 = myThread(116, thread_number_list[115], proxy_list[115])
    thread117 = myThread(117, thread_number_list[116], proxy_list[116])
    thread118 = myThread(118, thread_number_list[117], proxy_list[117])
    thread119 = myThread(119, thread_number_list[118], proxy_list[118])
    thread120 = myThread(120, thread_number_list[119], proxy_list[119])
    thread121 = myThread(121, thread_number_list[120], proxy_list[120])
    thread122 = myThread(122, thread_number_list[121], proxy_list[121])
    thread123 = myThread(123, thread_number_list[122], proxy_list[122])
    thread124 = myThread(124, thread_number_list[123], proxy_list[123])
    thread125 = myThread(125, thread_number_list[124], proxy_list[124])
    thread126 = myThread(126, thread_number_list[125], proxy_list[125])
    thread127 = myThread(127, thread_number_list[126], proxy_list[126])
    thread128 = myThread(128, thread_number_list[127], proxy_list[127])
    thread129 = myThread(129, thread_number_list[128], proxy_list[128])
    thread130 = myThread(130, thread_number_list[129], proxy_list[129])
    thread131 = myThread(131, thread_number_list[130], proxy_list[130])
    thread132 = myThread(132, thread_number_list[131], proxy_list[131])
    thread133 = myThread(133, thread_number_list[132], proxy_list[132])
    thread134 = myThread(134, thread_number_list[133], proxy_list[133])
    thread135 = myThread(135, thread_number_list[134], proxy_list[134])
    thread136 = myThread(136, thread_number_list[135], proxy_list[135])
    thread137 = myThread(137, thread_number_list[136], proxy_list[136])
    thread138 = myThread(138, thread_number_list[137], proxy_list[137])
    thread139 = myThread(139, thread_number_list[138], proxy_list[138])
    thread140 = myThread(140, thread_number_list[139], proxy_list[139])
    thread141 = myThread(141, thread_number_list[140], proxy_list[140])
    thread142 = myThread(142, thread_number_list[141], proxy_list[141])
    thread143 = myThread(143, thread_number_list[142], proxy_list[142])
    thread144 = myThread(144, thread_number_list[143], proxy_list[143])
    thread145 = myThread(145, thread_number_list[144], proxy_list[144])
    thread146 = myThread(146, thread_number_list[145], proxy_list[145])
    thread147 = myThread(147, thread_number_list[146], proxy_list[146])
    thread148 = myThread(148, thread_number_list[147], proxy_list[147])
    thread149 = myThread(149, thread_number_list[148], proxy_list[148])
    thread150 = myThread(150, thread_number_list[149], proxy_list[149])
    thread151 = myThread(151, thread_number_list[150], proxy_list[150])
    thread152 = myThread(152, thread_number_list[151], proxy_list[151])
    thread153 = myThread(153, thread_number_list[152], proxy_list[152])
    thread154 = myThread(154, thread_number_list[153], proxy_list[153])
    thread155 = myThread(155, thread_number_list[154], proxy_list[154])
    thread156 = myThread(156, thread_number_list[155], proxy_list[155])
    thread157 = myThread(157, thread_number_list[156], proxy_list[156])
    thread158 = myThread(158, thread_number_list[157], proxy_list[157])
    thread159 = myThread(159, thread_number_list[158], proxy_list[158])
    thread160 = myThread(160, thread_number_list[159], proxy_list[159])
    thread161 = myThread(161, thread_number_list[160], proxy_list[160])
    thread162 = myThread(162, thread_number_list[161], proxy_list[161])
    thread163 = myThread(163, thread_number_list[162], proxy_list[162])
    thread164 = myThread(164, thread_number_list[163], proxy_list[163])
    thread165 = myThread(165, thread_number_list[164], proxy_list[164])
    thread166 = myThread(166, thread_number_list[165], proxy_list[165])
    thread167 = myThread(167, thread_number_list[166], proxy_list[166])
    thread168 = myThread(168, thread_number_list[167], proxy_list[167])
    thread169 = myThread(169, thread_number_list[168], proxy_list[168])
    thread170 = myThread(170, thread_number_list[169], proxy_list[169])
    thread171 = myThread(171, thread_number_list[170], proxy_list[170])
    thread172 = myThread(172, thread_number_list[171], proxy_list[171])
    thread173 = myThread(173, thread_number_list[172], proxy_list[172])
    thread174 = myThread(174, thread_number_list[173], proxy_list[173])
    thread175 = myThread(175, thread_number_list[174], proxy_list[174])
    thread176 = myThread(176, thread_number_list[175], proxy_list[175])
    thread177 = myThread(177, thread_number_list[176], proxy_list[176])
    thread178 = myThread(178, thread_number_list[177], proxy_list[177])
    thread179 = myThread(179, thread_number_list[178], proxy_list[178])
    thread180 = myThread(180, thread_number_list[179], proxy_list[179])
    thread181 = myThread(181, thread_number_list[180], proxy_list[180])
    thread182 = myThread(182, thread_number_list[181], proxy_list[181])
    thread183 = myThread(183, thread_number_list[182], proxy_list[182])
    thread184 = myThread(184, thread_number_list[183], proxy_list[183])
    thread185 = myThread(185, thread_number_list[184], proxy_list[184])
    thread186 = myThread(186, thread_number_list[185], proxy_list[185])
    thread187 = myThread(187, thread_number_list[186], proxy_list[186])
    thread188 = myThread(188, thread_number_list[187], proxy_list[187])
    thread189 = myThread(189, thread_number_list[188], proxy_list[188])
    thread190 = myThread(190, thread_number_list[189], proxy_list[189])
    thread191 = myThread(191, thread_number_list[190], proxy_list[190])
    thread192 = myThread(192, thread_number_list[191], proxy_list[191])
    thread193 = myThread(193, thread_number_list[192], proxy_list[192])
    thread194 = myThread(194, thread_number_list[193], proxy_list[193])
    thread195 = myThread(195, thread_number_list[194], proxy_list[194])
    thread196 = myThread(196, thread_number_list[195], proxy_list[195])
    thread197 = myThread(197, thread_number_list[196], proxy_list[196])
    thread198 = myThread(198, thread_number_list[197], proxy_list[197])
    thread199 = myThread(199, thread_number_list[198], proxy_list[198])
    thread200 = myThread(200, thread_number_list[199], proxy_list[199])
    thread201 = myThread(201, thread_number_list[200], proxy_list[200])
    thread202 = myThread(202, thread_number_list[201], proxy_list[201])
    thread203 = myThread(203, thread_number_list[202], proxy_list[202])
    thread204 = myThread(204, thread_number_list[203], proxy_list[203])
    thread205 = myThread(205, thread_number_list[204], proxy_list[204])
    thread206 = myThread(206, thread_number_list[205], proxy_list[205])
    thread207 = myThread(207, thread_number_list[206], proxy_list[206])
    thread208 = myThread(208, thread_number_list[207], proxy_list[207])
    thread209 = myThread(209, thread_number_list[208], proxy_list[208])
    thread210 = myThread(210, thread_number_list[209], proxy_list[209])
    thread211 = myThread(211, thread_number_list[210], proxy_list[210])
    thread212 = myThread(212, thread_number_list[211], proxy_list[211])
    thread213 = myThread(213, thread_number_list[212], proxy_list[212])
    thread214 = myThread(214, thread_number_list[213], proxy_list[213])
    thread215 = myThread(215, thread_number_list[214], proxy_list[214])
    thread216 = myThread(216, thread_number_list[215], proxy_list[215])
    thread217 = myThread(217, thread_number_list[216], proxy_list[216])
    thread218 = myThread(218, thread_number_list[217], proxy_list[217])
    thread219 = myThread(219, thread_number_list[218], proxy_list[218])
    thread220 = myThread(220, thread_number_list[219], proxy_list[219])
    thread221 = myThread(221, thread_number_list[220], proxy_list[220])
    thread222 = myThread(222, thread_number_list[221], proxy_list[221])
    thread223 = myThread(223, thread_number_list[222], proxy_list[222])
    thread224 = myThread(224, thread_number_list[223], proxy_list[223])
    thread225 = myThread(225, thread_number_list[224], proxy_list[224])
    thread226 = myThread(226, thread_number_list[225], proxy_list[225])
    thread227 = myThread(227, thread_number_list[226], proxy_list[226])
    thread228 = myThread(228, thread_number_list[227], proxy_list[227])
    thread229 = myThread(229, thread_number_list[228], proxy_list[228])
    thread230 = myThread(230, thread_number_list[229], proxy_list[229])
    thread231 = myThread(231, thread_number_list[230], proxy_list[230])
    thread232 = myThread(232, thread_number_list[231], proxy_list[231])
    thread233 = myThread(233, thread_number_list[232], proxy_list[232])
    thread234 = myThread(234, thread_number_list[233], proxy_list[233])
    thread235 = myThread(235, thread_number_list[234], proxy_list[234])
    thread236 = myThread(236, thread_number_list[235], proxy_list[235])
    thread237 = myThread(237, thread_number_list[236], proxy_list[236])
    thread238 = myThread(238, thread_number_list[237], proxy_list[237])
    thread239 = myThread(239, thread_number_list[238], proxy_list[238])
    thread240 = myThread(240, thread_number_list[239], proxy_list[239])
    thread241 = myThread(241, thread_number_list[240], proxy_list[240])
    thread242 = myThread(242, thread_number_list[241], proxy_list[241])
    thread243 = myThread(243, thread_number_list[242], proxy_list[242])
    thread244 = myThread(244, thread_number_list[243], proxy_list[243])
    thread245 = myThread(245, thread_number_list[244], proxy_list[244])
    thread246 = myThread(246, thread_number_list[245], proxy_list[245])
    thread247 = myThread(247, thread_number_list[246], proxy_list[246])
    thread248 = myThread(248, thread_number_list[247], proxy_list[247])
    thread249 = myThread(249, thread_number_list[248], proxy_list[248])
    thread250 = myThread(250, thread_number_list[249], proxy_list[249])
    thread251 = myThread(251, thread_number_list[250], proxy_list[250])
    thread252 = myThread(252, thread_number_list[251], proxy_list[251])
    # Start new Threads
    thread1.start()
    thread2.start()
    thread3.start()
    thread4.start()
    thread5.start()
    thread6.start()
    thread7.start()
    thread8.start()
    thread9.start()
    thread10.start()
    thread11.start()
    thread12.start()
    thread13.start()
    thread14.start()
    thread15.start()
    thread16.start()
    thread17.start()
    thread18.start()
    thread19.start()
    thread20.start()
    thread21.start()
    thread22.start()
    thread23.start()
    thread24.start()
    thread25.start()
    thread26.start()
    thread27.start()
    thread28.start()
    thread29.start()
    thread30.start()
    thread31.start()
    thread32.start()
    thread33.start()
    thread34.start()
    thread35.start()
    thread36.start()
    thread37.start()
    thread38.start()
    thread39.start()
    thread40.start()
    thread41.start()
    thread42.start()
    thread43.start()
    thread44.start()
    thread45.start()
    thread46.start()
    thread47.start()
    thread48.start()
    thread49.start()
    thread50.start()
    thread51.start()
    thread52.start()
    thread53.start()
    thread54.start()
    thread55.start()
    thread56.start()
    thread57.start()
    thread58.start()
    thread59.start()
    thread60.start()
    thread61.start()
    thread62.start()
    thread63.start()
    thread64.start()
    thread65.start()
    thread66.start()
    thread67.start()
    thread68.start()
    thread69.start()
    thread70.start()
    thread71.start()
    thread72.start()
    thread73.start()
    thread74.start()
    thread75.start()
    thread76.start()
    thread77.start()
    thread78.start()
    thread79.start()
    thread80.start()
    thread81.start()
    thread82.start()
    thread83.start()
    thread84.start()
    thread85.start()
    thread86.start()
    thread87.start()
    thread88.start()
    thread89.start()
    thread90.start()
    thread91.start()
    thread92.start()
    thread93.start()
    thread94.start()
    thread95.start()
    thread96.start()
    thread97.start()
    thread98.start()
    thread99.start()
    thread100.start()
    thread101.start()
    thread102.start()
    thread103.start()
    thread104.start()
    thread105.start()
    thread106.start()
    thread107.start()
    thread108.start()
    thread109.start()
    thread110.start()
    thread111.start()
    thread112.start()
    thread113.start()
    thread114.start()
    thread115.start()
    thread116.start()
    thread117.start()
    thread118.start()
    thread119.start()
    thread120.start()
    thread121.start()
    thread122.start()
    thread123.start()
    thread124.start()
    thread125.start()
    thread126.start()
    thread127.start()
    thread128.start()
    thread129.start()
    thread130.start()
    thread131.start()
    thread132.start()
    thread133.start()
    thread134.start()
    thread135.start()
    thread136.start()
    thread137.start()
    thread138.start()
    thread139.start()
    thread140.start()
    thread141.start()
    thread142.start()
    thread143.start()
    thread144.start()
    thread145.start()
    thread146.start()
    thread147.start()
    thread148.start()
    thread149.start()
    thread150.start()
    thread151.start()
    thread152.start()
    thread153.start()
    thread154.start()
    thread155.start()
    thread156.start()
    thread157.start()
    thread158.start()
    thread159.start()
    thread160.start()
    thread161.start()
    thread162.start()
    thread163.start()
    thread164.start()
    thread165.start()
    thread166.start()
    thread167.start()
    thread168.start()
    thread169.start()
    thread170.start()
    thread171.start()
    thread172.start()
    thread173.start()
    thread174.start()
    thread175.start()
    thread176.start()
    thread177.start()
    thread178.start()
    thread179.start()
    thread180.start()
    thread181.start()
    thread182.start()
    thread183.start()
    thread184.start()
    thread185.start()
    thread186.start()
    thread187.start()
    thread188.start()
    thread189.start()
    thread190.start()
    thread191.start()
    thread192.start()
    thread193.start()
    thread194.start()
    thread195.start()
    thread196.start()
    thread197.start()
    thread198.start()
    thread199.start()
    thread200.start()
    thread201.start()
    thread202.start()
    thread203.start()
    thread204.start()
    thread205.start()
    thread206.start()
    thread207.start()
    thread208.start()
    thread209.start()
    thread210.start()
    thread211.start()
    thread212.start()
    thread213.start()
    thread214.start()
    thread215.start()
    thread216.start()
    thread217.start()
    thread218.start()
    thread219.start()
    thread220.start()
    thread221.start()
    thread222.start()
    thread223.start()
    thread224.start()
    thread225.start()
    thread226.start()
    thread227.start()
    thread228.start()
    thread229.start()
    thread230.start()
    thread231.start()
    thread232.start()
    thread233.start()
    thread234.start()
    thread235.start()
    thread236.start()
    thread237.start()
    thread238.start()
    thread239.start()
    thread240.start()
    thread241.start()
    thread242.start()
    thread243.start()
    thread244.start()
    thread245.start()
    thread246.start()
    thread247.start()
    thread248.start()
    thread249.start()
    thread250.start()
    thread251.start()
    thread252.start()
    # Add threads to thread list
    threads.append(thread1)
    threads.append(thread2)
    threads.append(thread3)
    threads.append(thread4)
    threads.append(thread5)
    threads.append(thread6)
    threads.append(thread7)
    threads.append(thread8)
    threads.append(thread9)
    threads.append(thread10)
    threads.append(thread11)
    threads.append(thread12)
    threads.append(thread13)
    threads.append(thread14)
    threads.append(thread15)
    threads.append(thread16)
    threads.append(thread17)
    threads.append(thread18)
    threads.append(thread19)
    threads.append(thread20)
    threads.append(thread21)
    threads.append(thread22)
    threads.append(thread23)
    threads.append(thread24)
    threads.append(thread25)
    threads.append(thread26)
    threads.append(thread27)
    threads.append(thread28)
    threads.append(thread29)
    threads.append(thread30)
    threads.append(thread31)
    threads.append(thread32)
    threads.append(thread33)
    threads.append(thread34)
    threads.append(thread35)
    threads.append(thread36)
    threads.append(thread37)
    threads.append(thread38)
    threads.append(thread39)
    threads.append(thread40)
    threads.append(thread41)
    threads.append(thread42)
    threads.append(thread43)
    threads.append(thread44)
    threads.append(thread45)
    threads.append(thread46)
    threads.append(thread47)
    threads.append(thread48)
    threads.append(thread49)
    threads.append(thread50)
    threads.append(thread51)
    threads.append(thread52)
    threads.append(thread53)
    threads.append(thread54)
    threads.append(thread55)
    threads.append(thread56)
    threads.append(thread57)
    threads.append(thread58)
    threads.append(thread59)
    threads.append(thread60)
    threads.append(thread61)
    threads.append(thread62)
    threads.append(thread63)
    threads.append(thread64)
    threads.append(thread65)
    threads.append(thread66)
    threads.append(thread67)
    threads.append(thread68)
    threads.append(thread69)
    threads.append(thread70)
    threads.append(thread71)
    threads.append(thread72)
    threads.append(thread73)
    threads.append(thread74)
    threads.append(thread75)
    threads.append(thread76)
    threads.append(thread77)
    threads.append(thread78)
    threads.append(thread79)
    threads.append(thread80)
    threads.append(thread81)
    threads.append(thread82)
    threads.append(thread83)
    threads.append(thread84)
    threads.append(thread85)
    threads.append(thread86)
    threads.append(thread87)
    threads.append(thread88)
    threads.append(thread89)
    threads.append(thread90)
    threads.append(thread91)
    threads.append(thread92)
    threads.append(thread93)
    threads.append(thread94)
    threads.append(thread95)
    threads.append(thread96)
    threads.append(thread97)
    threads.append(thread98)
    threads.append(thread99)
    threads.append(thread100)
    threads.append(thread101)
    threads.append(thread102)
    threads.append(thread103)
    threads.append(thread104)
    threads.append(thread105)
    threads.append(thread106)
    threads.append(thread107)
    threads.append(thread108)
    threads.append(thread109)
    threads.append(thread110)
    threads.append(thread111)
    threads.append(thread112)
    threads.append(thread113)
    threads.append(thread114)
    threads.append(thread115)
    threads.append(thread116)
    threads.append(thread117)
    threads.append(thread118)
    threads.append(thread119)
    threads.append(thread120)
    threads.append(thread121)
    threads.append(thread122)
    threads.append(thread123)
    threads.append(thread124)
    threads.append(thread125)
    threads.append(thread126)
    threads.append(thread127)
    threads.append(thread128)
    threads.append(thread129)
    threads.append(thread130)
    threads.append(thread131)
    threads.append(thread132)
    threads.append(thread133)
    threads.append(thread134)
    threads.append(thread135)
    threads.append(thread136)
    threads.append(thread137)
    threads.append(thread138)
    threads.append(thread139)
    threads.append(thread140)
    threads.append(thread141)
    threads.append(thread142)
    threads.append(thread143)
    threads.append(thread144)
    threads.append(thread145)
    threads.append(thread146)
    threads.append(thread147)
    threads.append(thread148)
    threads.append(thread149)
    threads.append(thread150)
    threads.append(thread151)
    threads.append(thread152)
    threads.append(thread153)
    threads.append(thread154)
    threads.append(thread155)
    threads.append(thread156)
    threads.append(thread157)
    threads.append(thread158)
    threads.append(thread159)
    threads.append(thread160)
    threads.append(thread161)
    threads.append(thread162)
    threads.append(thread163)
    threads.append(thread164)
    threads.append(thread165)
    threads.append(thread166)
    threads.append(thread167)
    threads.append(thread168)
    threads.append(thread169)
    threads.append(thread170)
    threads.append(thread171)
    threads.append(thread172)
    threads.append(thread173)
    threads.append(thread174)
    threads.append(thread175)
    threads.append(thread176)
    threads.append(thread177)
    threads.append(thread178)
    threads.append(thread179)
    threads.append(thread180)
    threads.append(thread181)
    threads.append(thread182)
    threads.append(thread183)
    threads.append(thread184)
    threads.append(thread185)
    threads.append(thread186)
    threads.append(thread187)
    threads.append(thread188)
    threads.append(thread189)
    threads.append(thread190)
    threads.append(thread191)
    threads.append(thread192)
    threads.append(thread193)
    threads.append(thread194)
    threads.append(thread195)
    threads.append(thread196)
    threads.append(thread197)
    threads.append(thread198)
    threads.append(thread199)
    threads.append(thread200)
    threads.append(thread201)
    threads.append(thread202)
    threads.append(thread203)
    threads.append(thread204)
    threads.append(thread205)
    threads.append(thread206)
    threads.append(thread207)
    threads.append(thread208)
    threads.append(thread209)
    threads.append(thread210)
    threads.append(thread211)
    threads.append(thread212)
    threads.append(thread213)
    threads.append(thread214)
    threads.append(thread215)
    threads.append(thread216)
    threads.append(thread217)
    threads.append(thread218)
    threads.append(thread219)
    threads.append(thread220)
    threads.append(thread221)
    threads.append(thread222)
    threads.append(thread223)
    threads.append(thread224)
    threads.append(thread225)
    threads.append(thread226)
    threads.append(thread227)
    threads.append(thread228)
    threads.append(thread229)
    threads.append(thread230)
    threads.append(thread231)
    threads.append(thread232)
    threads.append(thread233)
    threads.append(thread234)
    threads.append(thread235)
    threads.append(thread236)
    threads.append(thread237)
    threads.append(thread238)
    threads.append(thread239)
    threads.append(thread240)
    threads.append(thread241)
    threads.append(thread242)
    threads.append(thread243)
    threads.append(thread244)
    threads.append(thread245)
    threads.append(thread246)
    threads.append(thread247)
    threads.append(thread248)
    threads.append(thread249)
    threads.append(thread250)
    threads.append(thread251)
    threads.append(thread252)

    for t in threads:
        t.join()
    print("Exiting Main Thread")


def test():
    thread = myThread(1, thread_number_list[0])
    thread.start()
    thread.join()


if __name__ == '__main__':
    date = datetime.today().strftime('%m/%d/%Y')
    proxy_file = '/home/ubuntu/laptop/proxy.txt'
    source_file = '/home/ubuntu/laptop/Filtered.txt'
    thread_number_list = source_txt(path=source_file)
    fileName = 'Filtered.csv'
    pass_file = 'pass_phones_Filtered.csv'
    failed_file = 'failed_Filtered.csv'
    Not_Found = 'Not_Found_Filtered.csv'
    pass_phones = read_phones()
    proxy_list = get_proxy(proxy_file)
    start_time = time.time()
    main()
